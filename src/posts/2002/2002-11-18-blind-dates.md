---
layout: post
title: Blind Dates
date: 2002-11-18 05:11:16.000000000 +01:00
categories:
- papatech
tags: []
status: publish
type: post
published: true
meta: {}
author:
  login: shanson
  email: papascott-wp@gmail.com
  display_name: PapaScott
  first_name: Scott
  last_name: Hanson
---
<p>Now that I can do rewrites in my .htaccess file, I'm now redirecting date-based URLs to the appropriate b2 page. That means, for instace, that <a href="http://www.papascott.de/2002/11">http://www.papascott.de/2002/11</a> takes you to the monthly archive for November 2002. Before I was using hundreds of .php files generated by Movable Type, since my old hoster only allowed .htaccess files in certain directories.</p>
<p>This is just an interim step. I eventually want b2 to produce these URLs itself. </p>
<pre>RewriteEngine on
# give full URL on redirects, otherwise we land at papascott.de (w/o www)
# rewrite date-based URLs to b2 calls ... they all begin with [0-9]+/
# any number following a # is an individual post
RewriteRule ^(0-9)+/.+#([0-9]+)$ 
    http://%{HTTP_HOST}/index.php?p=$1&more=1&c=1 [R,L]
# YYYY/MM/DD/PPPP individual post
RewriteRule ^([0-9]+)/([0-9]+)/([0-9]+)/([0-9]+)  
    http://%{HTTP_HOST}/index.php?p=$4&more=1&c=1 [R,L]
# YYYY/MM/DD daily archive
RewriteRule ^([0-9]+)/([0-9]+)/([0-9]+) 
    http://%{HTTP_HOST}/index.php?m=$1$2$3 [R,L]
# YYYY/MM monthly archive
RewriteRule ^([0-9]+)/([0-9]+) 
    http://%{HTTP_HOST}/index.php?m=$1$2 [R,L]
# YYYY go to YYYY/01 monthly archive
RewriteRule ^([0-9]{4})/*$ 
    http://%{HTTP_HOST}/index.php?m=$101 [R,L]
# any other number, pass as is
RewriteRule ^([0-9]+)/*$ 
    http://%{HTTP_HOST}/index.php?m=$1 [R,L]</pre>
